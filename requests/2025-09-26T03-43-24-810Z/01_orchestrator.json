{
  "template": "circle-basic",
  "mode": "B",
  "allowCompanions": true,
  "appName": "牛太郎餐厅",
  "homeTitle": "牛太郎餐厅",
  "mainButtonText": "上传菜品",
  "packageId": "com.ndjc.demo.core",
  "locales": [
    "zh",
    "en"
  ],
  "resConfigs": "zh,en",
  "permissionsXml": "<uses-permission android:name=\"android.permission.INTERNET\"/>\n<uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\"/>\n<uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"/>\n<uses-permission android:name=\"android.permission.CAMERA\"/>",
  "companions": [
    {
      "path": "app/src/main/java/com/example/niutao/MainActivity.kt",
      "kind": "kotlin",
      "content": "import android.os.Bundle\nimport android.view.View\nimport android.widget.Button\nimport android.widget.EditText\nimport android.widget.ImageView\nimport android.widget.Toast\nimport androidx.appcompat.app.AppCompatActivity\nimport com.bumptech.glide.Glide\nimport com.google.android.material.snackbar.Snackbar\n\nclass MainActivity : AppCompatActivity() {\n    private lateinit var imageView: ImageView\n    private lateinit var editText: EditText\n    private lateinit var button: Button\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        imageView = findViewById(R.id.imageView)\n        editText = findViewById(R.id.editText)\n        button = findViewById(R.id.button)\n\n        button.setOnClickListener {\n            val intent = Intent(Intent.ACTION_PICK)\n            intent.type = \"image/*\"\n            startActivityForResult(intent, 1)\n        }\n    }\n\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n        if (requestCode == 1 && resultCode == Activity.RESULT_OK && data != null) {\n            val uri = data.data\n            Glide.with(this).load(uri).into(imageView)\n        }\n    }\n}\n",
      "overwrite": false
    },
    {
      "path": "app/src/main/java/com/example/niutao/Menu.kt",
      "kind": "kotlin",
      "content": "data class Menu(val name: String, val price: Double, val description: String, val imageUri: Uri?)",
      "overwrite": false
    },
    {
      "path": "app/src/main/java/com/example/niutao/MenuActivity.kt",
      "kind": "kotlin",
      "content": "import android.os.Bundle\nimport android.view.View\nimport android.widget.Button\nimport android.widget.EditText\nimport android.widget.ImageView\nimport android.widget.Toast\nimport androidx.appcompat.app.AppCompatActivity\nimport com.bumptech.glide.Glide\nimport com.google.android.material.snackbar.Snackbar\n\nclass MenuActivity : AppCompatActivity() {\n    private lateinit var imageView: ImageView\n    private lateinit var editText: EditText\n    private lateinit var button: Button\n    private lateinit var menu: Menu\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_menu)\n\n        imageView = findViewById(R.id.imageView)\n        editText = findViewById(R.id.editText)\n        button = findViewById(R.id.button)\n\n        button.setOnClickListener {\n            menu = Menu(editText.text.toString(), 0.0, \"\", null)\n            Toast.makeText(this, \"菜品上传成功\", Toast.LENGTH_SHORT).show()\n        }\n    }\n}\n",
      "overwrite": false
    },
    {
      "path": "app/src/main/java/com/example/niutao/Comment.kt",
      "kind": "kotlin",
      "content": "data class Comment(val content: String, val likes: Int)",
      "overwrite": false
    },
    {
      "path": "app/src/main/java/com/example/niutao/CommentActivity.kt",
      "kind": "kotlin",
      "content": "import android.os.Bundle\nimport android.view.View\nimport android.widget.Button\nimport android.widget.EditText\nimport android.widget.Toast\nimport androidx.appcompat.app.AppCompatActivity\nimport com.google.android.material.snackbar.Snackbar\n\nclass CommentActivity : AppCompatActivity() {\n    private lateinit var editText: EditText\n    private lateinit var button: Button\n    private lateinit var comment: Comment\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_comment)\n\n        editText = findViewById(R.id.editText)\n        button = findViewById(R.id.button)\n\n        button.setOnClickListener {\n            comment = Comment(editText.text.toString(), 0)\n            Toast.makeText(this, \"评论上传成功\", Toast.LENGTH_SHORT).show()\n        }\n    }\n}\n",
      "overwrite": false
    },
    {
      "path": "app/src/main/java/com/example/niutao/Database.kt",
      "kind": "kotlin",
      "content": "import android.content.Context\nimport androidx.room.Database\nimport androidx.room.Room\nimport androidx.room.RoomDatabase\n\n@Database(entities = [Menu::class, Comment::class], version = 1)\nabstract class Database : RoomDatabase() {\n    abstract fun menuDao(): MenuDao\n    abstract fun commentDao(): CommentDao\n}\n",
      "overwrite": false
    },
    {
      "path": "app/src/main/java/com/example/niutao/Dao.kt",
      "kind": "kotlin",
      "content": "import androidx.room.Dao\nimport androidx.room.Insert\nimport androidx.room.Query\n\n@Dao\ninterface Dao {\n    @Insert\n    suspend fun insertMenu(menu: Menu)\n    @Query(\"SELECT * FROM Menu\")\n    suspend fun getMenu(): List<Menu>\n    @Insert\n    suspend fun insertComment(comment: Comment)\n    @Query(\"SELECT * FROM Comment\")\n    suspend fun getComment(): List<Comment>\n}\n",
      "overwrite": false
    },
    {
      "path": "app/src/main/java/com/example/niutao/DaoImpl.kt",
      "kind": "kotlin",
      "content": "import androidx.room.Room\nimport androidx.room.RoomDatabase\n\nclass DaoImpl(private val database: Database) : Dao {\n    override suspend fun insertMenu(menu: Menu) {\n        database.menuDao().insert(menu)\n    }\n\n    override suspend fun getMenu(): List<Menu> {\n        return database.menuDao().getMenu()\n    }\n\n    override suspend fun insertComment(comment: Comment) {\n        database.commentDao().insert(comment)\n    }\n\n    override suspend fun getComment(): List<Comment> {\n        return database.commentDao().getComment()\n    }\n}\n",
      "overwrite": false
    },
    {
      "path": "app/src/main/java/com/example/niutao/ViewModel.kt",
      "kind": "kotlin",
      "content": "import androidx.lifecycle.ViewModel\nimport androidx.lifecycle.ViewModelScope\n\nclass ViewModel : ViewModel() {\n    private val dao: Dao = DaoImpl(Database.getInstance())\n\n    fun insertMenu(menu: Menu) {\n        viewModelScope.launch {\n            dao.insertMenu(menu)\n        }\n    }\n\n    fun getMenu(): List<Menu> {\n        return dao.getMenu()\n    }\n\n    fun insertComment(comment: Comment) {\n        viewModelScope.launch {\n            dao.insertComment(comment)\n        }\n    }\n\n    fun getComment(): List<Comment> {\n        return dao.getComment()\n    }\n}\n",
      "overwrite": false
    },
    {
      "path": "app/src/main/java/com/example/niutao/MainActivity.xml",
      "kind": "xml",
      "content": "<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\">\n    <ImageView\n        android:id=\"@+id/imageView\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\" />\n    <EditText\n        android:id=\"@+id/editText\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\" />\n    <Button\n        android:id=\"@+id/button\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\" />\n</LinearLayout>",
      "overwrite": false
    },
    {
      "path": "app/src/main/java/com/example/niutao/MenuActivity.xml",
      "kind": "xml",
      "content": "<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\">\n    <ImageView\n        android:id=\"@+id/imageView\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\" />\n    <EditText\n        android:id=\"@+id/editText\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\" />\n    <Button\n        android:id=\"@+id/button\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\" />\n</LinearLayout>",
      "overwrite": false
    },
    {
      "path": "app/src/main/java/com/example/niutao/CommentActivity.xml",
      "kind": "xml",
      "content": "<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\">\n    <EditText\n        android:id=\"@+id/editText\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\" />\n    <Button\n        android:id=\"@+id/button\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\" />\n</LinearLayout>",
      "overwrite": false
    }
  ],
  "_trace": {
    "provider": "groq",
    "url": "https://api.groq.com/openai/v1/chat/completions",
    "model": "llama-3.1-8b-instant",
    "request": {
      "model": "llama-3.1-8b-instant",
      "messages": [
        {
          "role": "system",
          "content": "你是移动端生成助手。以严格 JSON 返回（不可包含代码块标记）：\n{\n  \"fields\": {\n    \"appName\": string,\n    \"homeTitle\": string,\n    \"mainButtonText\": string,\n    \"packageId\": string | null,\n    \"permissions\": string[],\n    \"intentHost\": string | null,\n    \"locales\": string[]\n  },\n  \"companions\": [\n    { \"path\": \"app/src/main/java/...\", \"kind\":\"kotlin|xml|json|md|txt\", \"content\": \"...\", \"overwrite\": false }\n  ]\n}"
        },
        {
          "role": "user",
          "content": "生成一个牛太郎餐厅的介绍菜品的安卓app，要可以上传照片、编辑文字介绍、设定价格、评论点赞"
        }
      ],
      "temperature": 0.3,
      "response_format": {
        "type": "json_object"
      },
      "stream": false
    },
    "response": {
      "id": "chatcmpl-4ab28232-8334-453f-bf2c-4a6a5defb9be",
      "object": "chat.completion",
      "created": 1758858218,
      "model": "llama-3.1-8b-instant",
      "choices": [
        {
          "index": 0,
          "message": {
            "role": "assistant",
            "content": "{\n   \"fields\": {\n      \"appName\": \"牛太郎餐厅\",\n      \"homeTitle\": \"牛太郎餐厅\",\n      \"mainButtonText\": \"上传菜品\",\n      \"packageId\": null,\n      \"permissions\": [\n         \"android.permission.INTERNET\",\n         \"android.permission.READ_EXTERNAL_STORAGE\",\n         \"android.permission.WRITE_EXTERNAL_STORAGE\",\n         \"android.permission.CAMERA\"\n      ],\n      \"intentHost\": null,\n      \"locales\": [\n         \"zh\",\n         \"en\"\n      ]\n   },\n   \"companions\": [\n      {\n         \"path\": \"app/src/main/java/com/example/niutao/MainActivity.kt\",\n         \"kind\": \"kotlin\",\n         \"content\": \"import android.os.Bundle\\nimport android.view.View\\nimport android.widget.Button\\nimport android.widget.EditText\\nimport android.widget.ImageView\\nimport android.widget.Toast\\nimport androidx.appcompat.app.AppCompatActivity\\nimport com.bumptech.glide.Glide\\nimport com.google.android.material.snackbar.Snackbar\\n\\nclass MainActivity : AppCompatActivity() {\\n    private lateinit var imageView: ImageView\\n    private lateinit var editText: EditText\\n    private lateinit var button: Button\\n\\n    override fun onCreate(savedInstanceState: Bundle?) {\\n        super.onCreate(savedInstanceState)\\n        setContentView(R.layout.activity_main)\\n\\n        imageView = findViewById(R.id.imageView)\\n        editText = findViewById(R.id.editText)\\n        button = findViewById(R.id.button)\\n\\n        button.setOnClickListener {\\n            val intent = Intent(Intent.ACTION_PICK)\\n            intent.type = \\\"image/*\\\"\\n            startActivityForResult(intent, 1)\\n        }\\n    }\\n\\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\\n        super.onActivityResult(requestCode, resultCode, data)\\n        if (requestCode == 1 && resultCode == Activity.RESULT_OK && data != null) {\\n            val uri = data.data\\n            Glide.with(this).load(uri).into(imageView)\\n        }\\n    }\\n}\\n\",\n         \"overwrite\": false\n      },\n      {\n         \"path\": \"app/src/main/java/com/example/niutao/Menu.kt\",\n         \"kind\": \"kotlin\",\n         \"content\": \"data class Menu(val name: String, val price: Double, val description: String, val imageUri: Uri?)\",\n         \"overwrite\": false\n      },\n      {\n         \"path\": \"app/src/main/java/com/example/niutao/MenuActivity.kt\",\n         \"kind\": \"kotlin\",\n         \"content\": \"import android.os.Bundle\\nimport android.view.View\\nimport android.widget.Button\\nimport android.widget.EditText\\nimport android.widget.ImageView\\nimport android.widget.Toast\\nimport androidx.appcompat.app.AppCompatActivity\\nimport com.bumptech.glide.Glide\\nimport com.google.android.material.snackbar.Snackbar\\n\\nclass MenuActivity : AppCompatActivity() {\\n    private lateinit var imageView: ImageView\\n    private lateinit var editText: EditText\\n    private lateinit var button: Button\\n    private lateinit var menu: Menu\\n\\n    override fun onCreate(savedInstanceState: Bundle?) {\\n        super.onCreate(savedInstanceState)\\n        setContentView(R.layout.activity_menu)\\n\\n        imageView = findViewById(R.id.imageView)\\n        editText = findViewById(R.id.editText)\\n        button = findViewById(R.id.button)\\n\\n        button.setOnClickListener {\\n            menu = Menu(editText.text.toString(), 0.0, \\\"\\\", null)\\n            Toast.makeText(this, \\\"菜品上传成功\\\", Toast.LENGTH_SHORT).show()\\n        }\\n    }\\n}\\n\",\n         \"overwrite\": false\n      },\n      {\n         \"path\": \"app/src/main/java/com/example/niutao/Comment.kt\",\n         \"kind\": \"kotlin\",\n         \"content\": \"data class Comment(val content: String, val likes: Int)\",\n         \"overwrite\": false\n      },\n      {\n         \"path\": \"app/src/main/java/com/example/niutao/CommentActivity.kt\",\n         \"kind\": \"kotlin\",\n         \"content\": \"import android.os.Bundle\\nimport android.view.View\\nimport android.widget.Button\\nimport android.widget.EditText\\nimport android.widget.Toast\\nimport androidx.appcompat.app.AppCompatActivity\\nimport com.google.android.material.snackbar.Snackbar\\n\\nclass CommentActivity : AppCompatActivity() {\\n    private lateinit var editText: EditText\\n    private lateinit var button: Button\\n    private lateinit var comment: Comment\\n\\n    override fun onCreate(savedInstanceState: Bundle?) {\\n        super.onCreate(savedInstanceState)\\n        setContentView(R.layout.activity_comment)\\n\\n        editText = findViewById(R.id.editText)\\n        button = findViewById(R.id.button)\\n\\n        button.setOnClickListener {\\n            comment = Comment(editText.text.toString(), 0)\\n            Toast.makeText(this, \\\"评论上传成功\\\", Toast.LENGTH_SHORT).show()\\n        }\\n    }\\n}\\n\",\n         \"overwrite\": false\n      },\n      {\n         \"path\": \"app/src/main/java/com/example/niutao/Database.kt\",\n         \"kind\": \"kotlin\",\n         \"content\": \"import android.content.Context\\nimport androidx.room.Database\\nimport androidx.room.Room\\nimport androidx.room.RoomDatabase\\n\\n@Database(entities = [Menu::class, Comment::class], version = 1)\\nabstract class Database : RoomDatabase() {\\n    abstract fun menuDao(): MenuDao\\n    abstract fun commentDao(): CommentDao\\n}\\n\",\n         \"overwrite\": false\n      },\n      {\n         \"path\": \"app/src/main/java/com/example/niutao/Dao.kt\",\n         \"kind\": \"kotlin\",\n         \"content\": \"import androidx.room.Dao\\nimport androidx.room.Insert\\nimport androidx.room.Query\\n\\n@Dao\\ninterface Dao {\\n    @Insert\\n    suspend fun insertMenu(menu: Menu)\\n    @Query(\\\"SELECT * FROM Menu\\\")\\n    suspend fun getMenu(): List<Menu>\\n    @Insert\\n    suspend fun insertComment(comment: Comment)\\n    @Query(\\\"SELECT * FROM Comment\\\")\\n    suspend fun getComment(): List<Comment>\\n}\\n\",\n         \"overwrite\": false\n      },\n      {\n         \"path\": \"app/src/main/java/com/example/niutao/DaoImpl.kt\",\n         \"kind\": \"kotlin\",\n         \"content\": \"import androidx.room.Room\\nimport androidx.room.RoomDatabase\\n\\nclass DaoImpl(private val database: Database) : Dao {\\n    override suspend fun insertMenu(menu: Menu) {\\n        database.menuDao().insert(menu)\\n    }\\n\\n    override suspend fun getMenu(): List<Menu> {\\n        return database.menuDao().getMenu()\\n    }\\n\\n    override suspend fun insertComment(comment: Comment) {\\n        database.commentDao().insert(comment)\\n    }\\n\\n    override suspend fun getComment(): List<Comment> {\\n        return database.commentDao().getComment()\\n    }\\n}\\n\",\n         \"overwrite\": false\n      },\n      {\n         \"path\": \"app/src/main/java/com/example/niutao/ViewModel.kt\",\n         \"kind\": \"kotlin\",\n         \"content\": \"import androidx.lifecycle.ViewModel\\nimport androidx.lifecycle.ViewModelScope\\n\\nclass ViewModel : ViewModel() {\\n    private val dao: Dao = DaoImpl(Database.getInstance())\\n\\n    fun insertMenu(menu: Menu) {\\n        viewModelScope.launch {\\n            dao.insertMenu(menu)\\n        }\\n    }\\n\\n    fun getMenu(): List<Menu> {\\n        return dao.getMenu()\\n    }\\n\\n    fun insertComment(comment: Comment) {\\n        viewModelScope.launch {\\n            dao.insertComment(comment)\\n        }\\n    }\\n\\n    fun getComment(): List<Comment> {\\n        return dao.getComment()\\n    }\\n}\\n\",\n         \"overwrite\": false\n      },\n      {\n         \"path\": \"app/src/main/java/com/example/niutao/MainActivity.xml\",\n         \"kind\": \"xml\",\n         \"content\": \"<LinearLayout xmlns:android=\\\"http://schemas.android.com/apk/res/android\\\"\\n    xmlns:app=\\\"http://schemas.android.com/apk/res-auto\\\"\\n    android:layout_width=\\\"match_parent\\\"\\n    android:layout_height=\\\"match_parent\\\">\\n    <ImageView\\n        android:id=\\\"@+id/imageView\\\"\\n        android:layout_width=\\\"wrap_content\\\"\\n        android:layout_height=\\\"wrap_content\\\" />\\n    <EditText\\n        android:id=\\\"@+id/editText\\\"\\n        android:layout_width=\\\"match_parent\\\"\\n        android:layout_height=\\\"wrap_content\\\" />\\n    <Button\\n        android:id=\\\"@+id/button\\\"\\n        android:layout_width=\\\"wrap_content\\\"\\n        android:layout_height=\\\"wrap_content\\\" />\\n</LinearLayout>\",\n         \"overwrite\": false\n      },\n      {\n         \"path\": \"app/src/main/java/com/example/niutao/MenuActivity.xml\",\n         \"kind\": \"xml\",\n         \"content\": \"<LinearLayout xmlns:android=\\\"http://schemas.android.com/apk/res/android\\\"\\n    xmlns:app=\\\"http://schemas.android.com/apk/res-auto\\\"\\n    android:layout_width=\\\"match_parent\\\"\\n    android:layout_height=\\\"match_parent\\\">\\n    <ImageView\\n        android:id=\\\"@+id/imageView\\\"\\n        android:layout_width=\\\"wrap_content\\\"\\n        android:layout_height=\\\"wrap_content\\\" />\\n    <EditText\\n        android:id=\\\"@+id/editText\\\"\\n        android:layout_width=\\\"match_parent\\\"\\n        android:layout_height=\\\"wrap_content\\\" />\\n    <Button\\n        android:id=\\\"@+id/button\\\"\\n        android:layout_width=\\\"wrap_content\\\"\\n        android:layout_height=\\\"wrap_content\\\" />\\n</LinearLayout>\",\n         \"overwrite\": false\n      },\n      {\n         \"path\": \"app/src/main/java/com/example/niutao/CommentActivity.xml\",\n         \"kind\": \"xml\",\n         \"content\": \"<LinearLayout xmlns:android=\\\"http://schemas.android.com/apk/res/android\\\"\\n    xmlns:app=\\\"http://schemas.android.com/apk/res-auto\\\"\\n    android:layout_width=\\\"match_parent\\\"\\n    android:layout_height=\\\"match_parent\\\">\\n    <EditText\\n        android:id=\\\"@+id/editText\\\"\\n        android:layout_width=\\\"match_parent\\\"\\n        android:layout_height=\\\"wrap_content\\\" />\\n    <Button\\n        android:id=\\\"@+id/button\\\"\\n        android:layout_width=\\\"wrap_content\\\"\\n        android:layout_height=\\\"wrap_content\\\" />\\n</LinearLayout>\",\n         \"overwrite\": false\n      }\n   ]\n}"
          },
          "logprobs": null,
          "finish_reason": "stop"
        }
      ],
      "usage": {
        "queue_time": 0.191403598,
        "prompt_tokens": 206,
        "prompt_time": 0.014692491,
        "completion_tokens": 2167,
        "completion_time": 2.349572239,
        "total_tokens": 2373,
        "total_time": 2.36426473
      },
      "usage_breakdown": null,
      "system_fingerprint": "fp_a7a2f9abbf",
      "x_groq": {
        "id": "req_01k621x0ndedbrx5m55qtkgrpz"
      },
      "service_tier": "on_demand"
    },
    "text": "{\n   \"fields\": {\n      \"appName\": \"牛太郎餐厅\",\n      \"homeTitle\": \"牛太郎餐厅\",\n      \"mainButtonText\": \"上传菜品\",\n      \"packageId\": null,\n      \"permissions\": [\n         \"android.permission.INTERNET\",\n         \"android.permission.READ_EXTERNAL_STORAGE\",\n         \"android.permission.WRITE_EXTERNAL_STORAGE\",\n         \"android.permission.CAMERA\"\n      ],\n      \"intentHost\": null,\n      \"locales\": [\n         \"zh\",\n         \"en\"\n      ]\n   },\n   \"companions\": [\n      {\n         \"path\": \"app/src/main/java/com/example/niutao/MainActivity.kt\",\n         \"kind\": \"kotlin\",\n         \"content\": \"import android.os.Bundle\\nimport android.view.View\\nimport android.widget.Button\\nimport android.widget.EditText\\nimport android.widget.ImageView\\nimport android.widget.Toast\\nimport androidx.appcompat.app.AppCompatActivity\\nimport com.bumptech.glide.Glide\\nimport com.google.android.material.snackbar.Snackbar\\n\\nclass MainActivity : AppCompatActivity() {\\n    private lateinit var imageView: ImageView\\n    private lateinit var editText: EditText\\n    private lateinit var button: Button\\n\\n    override fun onCreate(savedInstanceState: Bundle?) {\\n        super.onCreate(savedInstanceState)\\n        setContentView(R.layout.activity_main)\\n\\n        imageView = findViewById(R.id.imageView)\\n        editText = findViewById(R.id.editText)\\n        button = findViewById(R.id.button)\\n\\n        button.setOnClickListener {\\n            val intent = Intent(Intent.ACTION_PICK)\\n            intent.type = \\\"image/*\\\"\\n            startActivityForResult(intent, 1)\\n        }\\n    }\\n\\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\\n        super.onActivityResult(requestCode, resultCode, data)\\n        if (requestCode == 1 && resultCode == Activity.RESULT_OK && data != null) {\\n            val uri = data.data\\n            Glide.with(this).load(uri).into(imageView)\\n        }\\n    }\\n}\\n\",\n         \"overwrite\": false\n      },\n      {\n         \"path\": \"app/src/main/java/com/example/niutao/Menu.kt\",\n         \"kind\": \"kotlin\",\n         \"content\": \"data class Menu(val name: String, val price: Double, val description: String, val imageUri: Uri?)\",\n         \"overwrite\": false\n      },\n      {\n         \"path\": \"app/src/main/java/com/example/niutao/MenuActivity.kt\",\n         \"kind\": \"kotlin\",\n         \"content\": \"import android.os.Bundle\\nimport android.view.View\\nimport android.widget.Button\\nimport android.widget.EditText\\nimport android.widget.ImageView\\nimport android.widget.Toast\\nimport androidx.appcompat.app.AppCompatActivity\\nimport com.bumptech.glide.Glide\\nimport com.google.android.material.snackbar.Snackbar\\n\\nclass MenuActivity : AppCompatActivity() {\\n    private lateinit var imageView: ImageView\\n    private lateinit var editText: EditText\\n    private lateinit var button: Button\\n    private lateinit var menu: Menu\\n\\n    override fun onCreate(savedInstanceState: Bundle?) {\\n        super.onCreate(savedInstanceState)\\n        setContentView(R.layout.activity_menu)\\n\\n        imageView = findViewById(R.id.imageView)\\n        editText = findViewById(R.id.editText)\\n        button = findViewById(R.id.button)\\n\\n        button.setOnClickListener {\\n            menu = Menu(editText.text.toString(), 0.0, \\\"\\\", null)\\n            Toast.makeText(this, \\\"菜品上传成功\\\", Toast.LENGTH_SHORT).show()\\n        }\\n    }\\n}\\n\",\n         \"overwrite\": false\n      },\n      {\n         \"path\": \"app/src/main/java/com/example/niutao/Comment.kt\",\n         \"kind\": \"kotlin\",\n         \"content\": \"data class Comment(val content: String, val likes: Int)\",\n         \"overwrite\": false\n      },\n      {\n         \"path\": \"app/src/main/java/com/example/niutao/CommentActivity.kt\",\n         \"kind\": \"kotlin\",\n         \"content\": \"import android.os.Bundle\\nimport android.view.View\\nimport android.widget.Button\\nimport android.widget.EditText\\nimport android.widget.Toast\\nimport androidx.appcompat.app.AppCompatActivity\\nimport com.google.android.material.snackbar.Snackbar\\n\\nclass CommentActivity : AppCompatActivity() {\\n    private lateinit var editText: EditText\\n    private lateinit var button: Button\\n    private lateinit var comment: Comment\\n\\n    override fun onCreate(savedInstanceState: Bundle?) {\\n        super.onCreate(savedInstanceState)\\n        setContentView(R.layout.activity_comment)\\n\\n        editText = findViewById(R.id.editText)\\n        button = findViewById(R.id.button)\\n\\n        button.setOnClickListener {\\n            comment = Comment(editText.text.toString(), 0)\\n            Toast.makeText(this, \\\"评论上传成功\\\", Toast.LENGTH_SHORT).show()\\n        }\\n    }\\n}\\n\",\n         \"overwrite\": false\n      },\n      {\n         \"path\": \"app/src/main/java/com/example/niutao/Database.kt\",\n         \"kind\": \"kotlin\",\n         \"content\": \"import android.content.Context\\nimport androidx.room.Database\\nimport androidx.room.Room\\nimport androidx.room.RoomDatabase\\n\\n@Database(entities = [Menu::class, Comment::class], version = 1)\\nabstract class Database : RoomDatabase() {\\n    abstract fun menuDao(): MenuDao\\n    abstract fun commentDao(): CommentDao\\n}\\n\",\n         \"overwrite\": false\n      },\n      {\n         \"path\": \"app/src/main/java/com/example/niutao/Dao.kt\",\n         \"kind\": \"kotlin\",\n         \"content\": \"import androidx.room.Dao\\nimport androidx.room.Insert\\nimport androidx.room.Query\\n\\n@Dao\\ninterface Dao {\\n    @Insert\\n    suspend fun insertMenu(menu: Menu)\\n    @Query(\\\"SELECT * FROM Menu\\\")\\n    suspend fun getMenu(): List<Menu>\\n    @Insert\\n    suspend fun insertComment(comment: Comment)\\n    @Query(\\\"SELECT * FROM Comment\\\")\\n    suspend fun getComment(): List<Comment>\\n}\\n\",\n         \"overwrite\": false\n      },\n      {\n         \"path\": \"app/src/main/java/com/example/niutao/DaoImpl.kt\",\n         \"kind\": \"kotlin\",\n         \"content\": \"import androidx.room.Room\\nimport androidx.room.RoomDatabase\\n\\nclass DaoImpl(private val database: Database) : Dao {\\n    override suspend fun insertMenu(menu: Menu) {\\n        database.menuDao().insert(menu)\\n    }\\n\\n    override suspend fun getMenu(): List<Menu> {\\n        return database.menuDao().getMenu()\\n    }\\n\\n    override suspend fun insertComment(comment: Comment) {\\n        database.commentDao().insert(comment)\\n    }\\n\\n    override suspend fun getComment(): List<Comment> {\\n        return database.commentDao().getComment()\\n    }\\n}\\n\",\n         \"overwrite\": false\n      },\n      {\n         \"path\": \"app/src/main/java/com/example/niutao/ViewModel.kt\",\n         \"kind\": \"kotlin\",\n         \"content\": \"import androidx.lifecycle.ViewModel\\nimport androidx.lifecycle.ViewModelScope\\n\\nclass ViewModel : ViewModel() {\\n    private val dao: Dao = DaoImpl(Database.getInstance())\\n\\n    fun insertMenu(menu: Menu) {\\n        viewModelScope.launch {\\n            dao.insertMenu(menu)\\n        }\\n    }\\n\\n    fun getMenu(): List<Menu> {\\n        return dao.getMenu()\\n    }\\n\\n    fun insertComment(comment: Comment) {\\n        viewModelScope.launch {\\n            dao.insertComment(comment)\\n        }\\n    }\\n\\n    fun getComment(): List<Comment> {\\n        return dao.getComment()\\n    }\\n}\\n\",\n         \"overwrite\": false\n      },\n      {\n         \"path\": \"app/src/main/java/com/example/niutao/MainActivity.xml\",\n         \"kind\": \"xml\",\n         \"content\": \"<LinearLayout xmlns:android=\\\"http://schemas.android.com/apk/res/android\\\"\\n    xmlns:app=\\\"http://schemas.android.com/apk/res-auto\\\"\\n    android:layout_width=\\\"match_parent\\\"\\n    android:layout_height=\\\"match_parent\\\">\\n    <ImageView\\n        android:id=\\\"@+id/imageView\\\"\\n        android:layout_width=\\\"wrap_content\\\"\\n        android:layout_height=\\\"wrap_content\\\" />\\n    <EditText\\n        android:id=\\\"@+id/editText\\\"\\n        android:layout_width=\\\"match_parent\\\"\\n        android:layout_height=\\\"wrap_content\\\" />\\n    <Button\\n        android:id=\\\"@+id/button\\\"\\n        android:layout_width=\\\"wrap_content\\\"\\n        android:layout_height=\\\"wrap_content\\\" />\\n</LinearLayout>\",\n         \"overwrite\": false\n      },\n      {\n         \"path\": \"app/src/main/java/com/example/niutao/MenuActivity.xml\",\n         \"kind\": \"xml\",\n         \"content\": \"<LinearLayout xmlns:android=\\\"http://schemas.android.com/apk/res/android\\\"\\n    xmlns:app=\\\"http://schemas.android.com/apk/res-auto\\\"\\n    android:layout_width=\\\"match_parent\\\"\\n    android:layout_height=\\\"match_parent\\\">\\n    <ImageView\\n        android:id=\\\"@+id/imageView\\\"\\n        android:layout_width=\\\"wrap_content\\\"\\n        android:layout_height=\\\"wrap_content\\\" />\\n    <EditText\\n        android:id=\\\"@+id/editText\\\"\\n        android:layout_width=\\\"match_parent\\\"\\n        android:layout_height=\\\"wrap_content\\\" />\\n    <Button\\n        android:id=\\\"@+id/button\\\"\\n        android:layout_width=\\\"wrap_content\\\"\\n        android:layout_height=\\\"wrap_content\\\" />\\n</LinearLayout>\",\n         \"overwrite\": false\n      },\n      {\n         \"path\": \"app/src/main/java/com/example/niutao/CommentActivity.xml\",\n         \"kind\": \"xml\",\n         \"content\": \"<LinearLayout xmlns:android=\\\"http://schemas.android.com/apk/res/android\\\"\\n    xmlns:app=\\\"http://schemas.android.com/apk/res-auto\\\"\\n    android:layout_width=\\\"match_parent\\\"\\n    android:layout_height=\\\"match_parent\\\">\\n    <EditText\\n        android:id=\\\"@+id/editText\\\"\\n        android:layout_width=\\\"match_parent\\\"\\n        android:layout_height=\\\"wrap_content\\\" />\\n    <Button\\n        android:id=\\\"@+id/button\\\"\\n        android:layout_width=\\\"wrap_content\\\"\\n        android:layout_height=\\\"wrap_content\\\" />\\n</LinearLayout>\",\n         \"overwrite\": false\n      }\n   ]\n}",
    "finish_reason": "stop",
    "usage": {
      "queue_time": 0.191403598,
      "prompt_tokens": 206,
      "prompt_time": 0.014692491,
      "completion_tokens": 2167,
      "completion_time": 2.349572239,
      "total_tokens": 2373,
      "total_time": 2.36426473
    }
  }
}